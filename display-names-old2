-- [==[ Generated by mothra#1337 ]==]
-- (Anti-Displayname v3)
-- 6/17/21
if not game['Loaded'] or not game:GetService('Players')['LocalPlayer'] then
    game['Loaded']:Wait();
    if game['PlaceId'] == '292439477' then return end -- (Phantom Forces).. maybe reduces lag, prevents bans etc
    game:WaitForChild(game:GetService('Players'));
    game:GetService('Players'):WaitForChild(game:GetService('Players').LocalPlayer.Name)
end

local Players = game:GetService('Players')
local AppendName = function(plr)
    if plr:IsA('Player') and not (plr['Character'] and plr.Character ~= nil) then
        plr.CharacterAdded:wait()
        local HeadFound, HumFound = false, false
        local ChildAdded;ChildAdded = plr.Character.ChildAdded:Connect(function(v)
            if HeadFound and HumFound then ChildAdded:Disconnect() return end
            if v:IsA('BasePart') or v:IsA('MeshPart') and v.Name == 'Head' then
                if HeadFound then return end
                HeadFound = true
                if v:IsA('MeshPart') and v.MeshId == 'rbxassetid://6686307858' then
                    local FakeName = Instance.new('BillboardGui')
                    local Name = Instance.new('TextLabel')
                    
                    FakeName.Name = 'FakeName'
                    FakeName.Parent = v
                    FakeName.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
                    FakeName.Active = true
                    FakeName.AlwaysOnTop = false
                    FakeName.LightInfluence = 1.000
                    FakeName.MaxDistance = 100.000
                    FakeName.Size = UDim2.new(1, 0, 3, 0)
                    FakeName.StudsOffset = Vector3.new(0, 1.7999999523163, 0)
                    FakeName.Adornee = v
                    
                    Name.Name = 'Name'
                    Name.Parent = FakeName
                    Name.Active = true
                    Name.AnchorPoint = Vector2.new(0.5, 0.5)
                    Name.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    Name.BackgroundTransparency = 1.000
                    Name.BorderSizePixel = 0
                    Name.Position = UDim2.new(0.5, 0, 0.5, 0)
                    Name.Size = UDim2.new(1, 30, 1, 0)
                    Name.Font = Enum.Font.SourceSans
                    Name.Text = plr.DisplayName..'\n['..tostring(plr.Name)..']'
                    Name.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Name.TextScaled = true
                    Name.TextSize = 24.000
                    Name.TextStrokeTransparency = 0.600
                    Name.TextWrapped = true
                end
            elseif v:IsA('Humanoid') then
                if HumFound then return end
                HumFound = true
                if v.DisplayName ~= plr.Name and not v.DisplayName:gsub(' ', ''):find(plr.Name:gsub(' ', '')) then
                    v.DisplayName = plr.DisplayName..'\n[@'..tostring(plr.Name)..']'
                end
            end
        end)
    elseif plr:IsA('Player') and (plr['Character'] and plr.Character ~= nil) and plr.Character:FindFirstChildOfClass('Humanoid') and plr.Character:FindFirstChild('Head') then
        local Char = plr.Character

        for _, v in next, Char:GetChildren() do
            coroutine.wrap(function()
                if v.Name == 'Head' and v:IsA('MeshPart') and v.MeshId == 'rbxassetid://6686307858' then
                    local FakeName = Instance.new('BillboardGui')
                    local Name = Instance.new('TextLabel')
                    
                    FakeName.Name = 'FakeName'
                    FakeName.Parent = v
                    FakeName.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
                    FakeName.Active = true
                    FakeName.AlwaysOnTop = false
                    FakeName.LightInfluence = 1.000
                    FakeName.MaxDistance = 100.000
                    FakeName.Size = UDim2.new(1, 0, 3, 0)
                    FakeName.StudsOffset = Vector3.new(0, 1.7999999523163, 0)
                    FakeName.Adornee = v
                    
                    Name.Name = 'Name'
                    Name.Parent = FakeName
                    Name.Active = true
                    Name.AnchorPoint = Vector2.new(0.5, 0.5)
                    Name.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    Name.BackgroundTransparency = 1.000
                    Name.BorderSizePixel = 0
                    Name.Position = UDim2.new(0.5, 0, 0.5, 0)
                    Name.Size = UDim2.new(1, 30, 1, 0)
                    Name.Font = Enum.Font.SourceSans
                    Name.Text = plr.DisplayName..'\n['..tostring(plr.Name)..']'
                    Name.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Name.TextScaled = true
                    Name.TextSize = 24.000
                    Name.TextStrokeTransparency = 0.600
                    Name.TextWrapped = true
                elseif v:IsA('Humanoid') and v.DisplayName ~= plr.Name and not v.DisplayName:gsub(' ', ''):find(plr.Name:gsub(' ', '')) then
                    v.DisplayName = plr.DisplayName..'\n[@'..tostring(plr.Name)..']'
                end
            end)()
        end
    end
    plr.CharacterAdded:Connect(function()
        local HeadFound, HumFound = false, false
        local ChildAdded;ChildAdded = plr.Character.ChildAdded:Connect(function(v)
            if HeadFound and HumFound then ChildAdded:Disconnect() return end
            if v:IsA('BasePart') or v:IsA('MeshPart') and v.Name == 'Head' then
                if HeadFound then return end
                HeadFound = true
                if v:IsA('MeshPart') and v.MeshId == 'rbxassetid://6686307858' then
                    local FakeName = Instance.new('BillboardGui')
                    local Name = Instance.new('TextLabel')
                    
                    FakeName.Name = 'FakeName'
                    FakeName.Parent = v
                    FakeName.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
                    FakeName.Active = true
                    FakeName.AlwaysOnTop = false
                    FakeName.LightInfluence = 1.000
                    FakeName.MaxDistance = 100.000
                    FakeName.Size = UDim2.new(1, 0, 3, 0)
                    FakeName.StudsOffset = Vector3.new(0, 1.7999999523163, 0)
                    FakeName.Adornee = v
                    
                    Name.Name = 'Name'
                    Name.Parent = FakeName
                    Name.Active = true
                    Name.AnchorPoint = Vector2.new(0.5, 0.5)
                    Name.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    Name.BackgroundTransparency = 1.000
                    Name.BorderSizePixel = 0
                    Name.Position = UDim2.new(0.5, 0, 0.5, 0)
                    Name.Size = UDim2.new(1, 30, 1, 0)
                    Name.Font = Enum.Font.SourceSans
                    Name.Text = plr.DisplayName..'\n['..tostring(plr.Name)..']'
                    Name.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Name.TextScaled = true
                    Name.TextSize = 24.000
                    Name.TextStrokeTransparency = 0.600
                    Name.TextWrapped = true
                end
            elseif v:IsA('Humanoid') then
                if HumFound then return end
                HumFound = true
                if v.DisplayName ~= plr.Name and not v.DisplayName:gsub(' ', ''):find(plr.Name:gsub(' ', '')) then
                    v.DisplayName = plr.DisplayName..'\n[@'..tostring(plr.Name)..']'
                end
            end
        end)
    end)
end

for _, plr in next, Players:GetPlayers() do
    if plr ~= game:GetService('Players').LocalPlayer then
        coroutine.wrap(function()
            AppendName(plr)
        end)()
    end
end

Players.PlayerAdded:Connect(function(plr)
    AppendName(plr)
end)
